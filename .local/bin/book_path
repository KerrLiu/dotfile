#!/bin/sh

cachedir="${XDG_CACHE_HOME:-"$HOME/.cache"}"
cache="$cachedir/book_run"

[ ! -e "$cachedir" ] && mkdir -p "$cachedir"

BOOKPATH="$HOME/Documents/pdf:$HOME/Documents/epub:$HOME/Documents/txt:$HOME/Documents/markdown/MyMarkDown:$HOME/Documents/markdown/GolangStudy:$HOME/Documents/markdown/guiides"

IFS=:
if stest -dqr -n "$cache" $BOOKPATH; then
	stest -fl $BOOKPATH | sort -u | tee "$cache"
else
	cat "$cache"
fi
